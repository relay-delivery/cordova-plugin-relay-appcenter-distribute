<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://www.phonegap.com/ns/plugins/1.0"
    xmlns:android="http://schemas.android.com/apk/res/android"
    id="cordova-plugin-appcenter-distribute"
    version="0.1.0">

    <name>AppCenterDistribute</name>
    <description>Handles in app update through appcenter</description>
    <license>UNLICENSED</license>

    <engines>
        <engine name="cordova" version=">=10.0.0" />
    </engines>

    <js-module src="www/appcenter-distribute.js">
       <clobbers target="window.appcenter" />
    </js-module>

	<platform name="android">
		<config-file target="res/xml/config.xml" parent="/*">
			<feature name="RelayAppCenterDistribute">
				<param name="android-package" value="delivery.relay.cordova.RelayAppCenterDistribute"/>
				<param name="onload" value="true" />
			</feature>
		</config-file>
		<source-file src="src/android/RelayAppCenterDistribute.java" target-dir="src/delivery/relay/cordova" />
		<framework src="appcenter-distribute.gradle" custom="true" type="gradleReference" />
	</platform>

	<platform name="ios">
		<config-file target="config.xml" parent="/widget">
			<feature name="RelayAppCenterDistribute">
				<param name="ios-package" value="RelayAppCenterDistribute" />
			</feature>
		</config-file>

		<header-file src="src/ios/UviCordovaEcho.h" target-dir="UviEchoPlugin"/>
		<source-file src="src/ios/UviCordovaEcho.m" target-dir="UviEchoPlugin"/>
		<podspec>
		    <config>
			<source url="https://cdn.cocoapods.org/"/>
		    </config>
		    <pods use-frameworks="true">
			<pod name="AppCenter/Distribute" spec="~> 3.3.4" />
		    </pods>
		</podspec>
		<framework src="AppCenter/Distribute" type="podspec" spec="~> 3.3.4" />
		<hook type="before_build" src="scripts/ios/before_build.js" />
	</platform>


</plugin>
